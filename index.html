<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Under Construction</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            flex-direction: column;
        }
        .hidden {
            display: none;
        }
        h1 {
            font-size: 36px;
            text-align: center;
        }
        .login-form, .work-form, .results {
            border: 1px solid #ccc;
            padding: 20px;
            background: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 300px;
            margin-top: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"], input[type="password"], input[type="time"] {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .day-row {
            margin-bottom: 10px;
        }
        .results {
            text-align: left;
        }
        .button {
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
            display: block;
            margin-top: 10px;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="under-construction">
        <h1>Website Under Construction</h1>
    </div>
    <div id="login" class="login-form hidden">
        <h2>Sign In</h2>
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username">
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password">
        </div>
        <button class="button" onclick="login()">Login</button>
    </div>
    <div id="work-schedule" class="work-form hidden">
        <h2>Enter Your Work Schedule</h2>
        <div id="days">
            <!-- Days will be dynamically added here -->
        </div>
        <button class="button" onclick="calculateEarnings()">Calculate Earnings</button>
    </div>
    <div id="results" class="results hidden">
        <h2>Weekly Summary</h2>
        <p id="earnings"></p>
        <p id="tax"></p>
        <p id="subtotal"></p>
    </div>

    <script>
        // Predefined login credentials
        const validUsername = "sudurpaschim99";
        const validPassword = "01llabtoofissem";

        // Rates and tax brackets
        const rates = {
            weekday: { day: 32.07, earlyNight: 39.76 },
            saturday: { day: 38.48, earlyNight: 44.89 },
            sunday: { day: 44.89, earlyNight: 51.31 }
        };
        const taxBrackets = [
            { min: 0, max: 18200, rate: 0 },
            { min: 18201, max: 45000, rate: 0.16, base: 0 },
            { min: 45001, max: 135000, rate: 0.30, base: 4288 },
            { min: 135001, max: 190000, rate: 0.37, base: 31288 },
            { min: 190001, rate: 0.45, base: 51638 }
        ];

        const daysOfWeek = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];

        // Show login form
        document.getElementById("under-construction").classList.add("hidden");
        document.getElementById("login").classList.remove("hidden");

        // Populate work schedule form
        const daysContainer = document.getElementById("days");
        daysOfWeek.forEach(day => {
            const dayDiv = document.createElement("div");
            dayDiv.classList.add("day-row");
            dayDiv.innerHTML = `
                <strong>${day}</strong><br>
                <label>Shift Start:</label>
                <input type="time" class="start" data-day="${day}">
                <label>Shift End:</label>
                <input type="time" class="end" data-day="${day}">
                <label><input type="checkbox" class="not-worked" data-day="${day}"> Not Worked</label>
            `;
            daysContainer.appendChild(dayDiv);
        });

        // Handle login
        function login() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            if (username === validUsername && password === validPassword) {
                document.getElementById("login").classList.add("hidden");
                document.getElementById("work-schedule").classList.remove("hidden");
            } else {
                alert("Invalid credentials!");
            }
        }

        // Calculate earnings and tax
        function calculateEarnings() {
            let totalEarnings = 0;
            document.querySelectorAll(".day-row").forEach(row => {
                const day = row.querySelector(".start").dataset.day;
                const start = row.querySelector(".start").value;
                const end = row.querySelector(".end").value;
                const notWorked = row.querySelector(".not-worked").checked;

                if (notWorked || !start || !end) return;

                const startHour = parseInt(start.split(":")[0]);
                const endHour = parseInt(end.split(":")[0]);
                const rateType = getRateType(day, startHour, endHour);
                const rate = rates[getDayType(day)][rateType];
                totalEarnings += (endHour - startHour) * rate;
            });

            const tax = calculateTax(totalEarnings);
            const netEarnings = totalEarnings - tax.amount;

            // Display results
            document.getElementById("work-schedule").classList.add("hidden");
            document.getElementById("results").classList.remove("hidden");
            document.getElementById("earnings").innerText = `Total Earnings: $${totalEarnings.toFixed(2)}`;
            document.getElementById("tax").innerText = `Tax Deduction: $${tax.amount.toFixed(2)} (${tax.rate * 100}%)`;
            document.getElementById("subtotal").innerText = `Earnings After Tax: $${netEarnings.toFixed(2)}`;
        }

        // Get rate type based on shift hours
        function getRateType(day, startHour, endHour) {
            if (startHour >= 4 && endHour <= 11) return "earlyNight";
            if (startHour >= 18 || endHour <= 4) return "earlyNight";
            return "day";
        }

        // Get day type (weekday, saturday, sunday)
        function getDayType(day) {
            if (day === "Saturday") return "saturday";
            if (day === "Sunday") return "sunday";
            return "weekday";
        }

        // Calculate tax based on total earnings
        function calculateTax(totalEarnings) {
            for (const bracket of taxBrackets) {
                if (!bracket.max || totalEarnings <= bracket.max) {
                    const base = bracket.base || 0;
                    const rate = bracket.rate || 0;
                    return { amount: base + (totalEarnings - bracket.min) * rate, rate };
                }
            }
        }
    </script>
</body>
</html>
